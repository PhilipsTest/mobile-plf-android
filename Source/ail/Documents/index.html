<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>AppInfra Reference</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1561.6">
  <style type="text/css">
    p.p2 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #0000ee; -webkit-text-stroke: #0000ee}
    p.p7 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p8 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    li.li3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #0000ee; -webkit-text-stroke: #0000ee}
    li.li6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    li.li8 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    li.li9 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000}
    span.s1 {text-decoration: underline ; font-kerning: none}
    span.s2 {font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s3 {-webkit-text-stroke: 0px #000000}
    span.s4 {font-kerning: none}
    span.s5 {font: 18.0px Times; text-decoration: underline ; font-kerning: none}
    span.s6 {font: 12.0px Times; text-decoration: underline ; font-kerning: none}
    span.s7 {text-decoration: underline ; font-kerning: none; color: #0000ee; -webkit-text-stroke: 0px #0000ee}
    span.s8 {font: 12.0px Times; text-decoration: underline ; font-kerning: none; color: #0000ee; -webkit-text-stroke: 0px #0000ee}
    ul.ul1 {list-style-type: disc}
    ul.ul2 {list-style-type: circle}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #0000ee; -webkit-text-stroke: #0000ee"><span class="s1"><a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/index.html"><b>AppInfra<span class="Apple-converted-space"> </span></b></a></span></h1>
<p class="p2"><span class="s1"><a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/index.html">Philips</a></span><span class="s2"><span class="Apple-converted-space"> </span></span></p>
<ul class="ul1">
  <li class="li3"><span class="s3"><a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/overview-tree.html"><span class="s1">Hierarchy</span></a></span></li>
</ul>
<h1 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>AppInfra Reference</b></span></h1>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #0000ee; -webkit-text-stroke: #0000ee"><span class="s1"><a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/overview-summary.html"><b>Jump to API Doc</b><span class="s5"><b></b></span></a></span></h2>
<p class="p2"><span class="s1"><a href="https://confluence.atlas.philips.com/display/MAIL/How-to+articles">HOW TO USE APPINFRA<span class="s6"></span></a></span></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2018.5.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Added an api in rest client interface to clear all cache data (use it cautiously).</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Added an api in A/B-Test interface to tag events to firebase.</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Modified Adobe Privacy Status Opt-Out behaviour. For more Info on this please refer ([Confluence Page](https://confluence.atlas.philips.com/display/MOB/How+to+Use+Tagging)))</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2018.4.0<span class="Apple-converted-space"> </span></b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Modified the ABTest interface Completely.</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">A/B testing now uses FireBase. ([How to integrate?](https://confluence.atlas.philips.com/pages/viewpage.action?pageId=29821684))</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2018.2.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Code tampering check and emulator check APIs added to Secure Storage</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Data Migration from old secure storage to version of secure storage</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2018.1.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Consent manager is added for registering/deregistering consent handlers as a part of GDPR</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 3.0.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Key manager</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">logging config added to app configurations</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">proposition specific ab test configurations</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">PSRA defect fixes</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">bug fixes</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2.2.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">new feature appupdate</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">logs component name is now TLA</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">appinfra code snippets added to repo</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">locale special handling for zh-Hans(zh_CN) &amp; zh-Hant(zh_TW)</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">new api in logging for dictionary</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Demo with microapp template</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Timesync issues fixed</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Tagging pagename validations</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Deletion of language pack if locale change</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">AppConfig reset api added</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">one log to show device name and os</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 2.1.0</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">new feature language pack . activate, refresh and generic api to get localized string</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">limiting service discovery environment</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">psr defects fixed</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">component version added</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">mutiple url configs merge in service discovery</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Logging configurations added to appconfig file</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">new how to pages in confluence</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">isSyncronised api in Time module, also few bugs were fixed</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">fixed REST client cache encryption bug</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">callback api for tagging</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">option to disable proposition microsite id</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">new api in tagging to get tracking identifier</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">api to detect device is jailbroken</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">sd improvements - caching home country</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">repos are migrated to tfs</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Platform Version 1.1.0</b></span></h2>
<p class="p7"><span class="s4"></span><br></p>
<p class="p7"><span class="s4"></span><br></p>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">US11828 - Service Discovery inject parameters in the URL</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">US13345 - Service Discovery refresh when home country is changed</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">App config keys are now case insensitive</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">App config cloud support</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Service discovery data persistant across app launches</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Service Discovery server call will be locked for 10 seconds</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">PRX dependancy removed from AppInfra</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Service Discovery alternate implementation using CSV available as seperate repo</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Service discovery match by country result filtered based on user preferred languages in case of multiple locales for a country</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Inject parameters to service url in service discovery</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Multiple microsite id support one for proposition one for platform</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Network reachability is implemented in AppInfra as part of REST client</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Internationalization now returnes the locale that app UI was rendered. Country part may not be there</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Descriptions</b></span></h2>
<p class="p8"><span class="s4">App Infra provides a range of modules that are the basis for any mobile application. App Infra is integrated as one single library in the application. App Infra in itself is not an operational entity but only exists in the context of an application. App Infra ensures that all modules provided by App Infra are linked to each other where needed. All modules together are exposed to the application through a single set of well-defined interfaces. App Infra is not only used by the application but also by all common components that are integrated in the application. As such App Infra can be seen as a basic layer of functionality in the SW stack that is positioned somewhere between the app and the device’s OS. App Infra is not designed to abstract the operating system; App Infra provides additional functionality on top of the operating system making use of the operating system. Some of the App Infra depend on cloud servers to provide the required functionality. In those cases, App Infra abstracts the cloud server such that the users of App Infra are not directly exposed to the typical problems of remote services.</span></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Modules</b></span></h2>
<ul class="ul1">
  <li class="li8"><span class="s3"></span><span class="s4">Secure storage module - Secure Storage is used to store secret value in device storage with encrypted way using AES Encryption. It uses key value pair concept to store data inside the apps.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">Service discovery module - Service Discovery reduces the hard dependency between app and cloud services. The main idea is that the list of URLs that are to be used by an application is maintained server side, at the service discovery server. The app only has to download this list from one single global location, this list tells the app where all other cloud services can be found.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">App tagging module - App tagging is used to track pages and button actions of the propositions or common components with page/action name and several other default values such as timestamps,device info,OS info etc.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">Logging module - Logging is used to maintain the logs which user access of the propositions or common components with page/action name and several other default values such as UTC timestamps, Log type, Component ID, Event and Message.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">Time module - feature provides an APIs to retrieve the UTC server time accurately. It also perform synchronization for every 24hrs and whenever there is a Data and time change.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">Internationalization module - provided APIs to fetch Locale from Android settings.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">App identity module - The App identity feature shall provide an API to get the app release status: development, test, acceptance, production. The App identity feature shall obtain the technical app name, app version and app release status automatically from the build application build process.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">App config module - The app configuration module maintains configuration settings of the app and it’s included common components, in the form of key value pair.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">REST client module - The REST client module simplifies communication with cloud services that use a REST based interface. Which is built upon AFNetworking Library<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">A/B test module - The A/B test client module assists in performing A/B tests in the application. The client communicates with server which distributes users over the test experiences. A test is identified by its test name. when offline, the cached data is used if available instead of the default value to ensure a consistent user experience irrespective of network availability.<br>
</span></li>
  <li class="li8"><span class="s3"></span><span class="s4">API signing module - Some HSDP services use API signing (and not an oAuth token) to prove the caller is a known app. App Infra is providing an API which can create a signature for a given data blob. The signature is created using an algorithm provided by Philips Security Technologies plus a key. As multiple services may require different signatures, the key may differ per signature created.<br>
</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Language Pack - All apps contain text which is visualized to the user in some way, mainly this text is shown directly in the UI. A part of this text is more or less static and fundamental to the operation of the app. For that reason, this text is embedded according to the App UI internationalization guidelines. The text is shown in the locale as selected by the user on his device. This module enable to change these texts dynamically from cloud</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Installation</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">There are two ways to integrate “Mobile App Infrastructure” library with any Android app.</span></li>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">1) Maven repository based: At compile time, machine has to be connected with Philips network. Do follow section 1.</span></li>
  </ul>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">2) Library Integration: If unable to connect with Philips network then include libraries to your root application. Do follow section 2.</span></li>
  </ul>
  <li class="li6"><span class="s3"></span><span class="s4">1. Maven repository (Artifactory based) Integration: The easiest and preferred way to use these components is using maven. All dependent libraries should be downloaded from artifactory.</span></li>
  <li class="li9"></li>
  <li class="li6"><span class="s3"></span><span class="s4">2. Library Integration: Below gradle dependencies are used in library</span></li>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">dependencies { compile project(':AppInfra') }<span class="Apple-converted-space"> </span></span></li>
  </ul>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">Refer integration document. Integration document is part of appinfra repo (Documents/External/Integration Document_Appinfra)<span class="Apple-converted-space"> </span></span></li>
  </ul>
  <li class="li6"><span class="s3"></span><span class="s4">Build Config Current Version:</span></li>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">compileSdkVersion 26</span></li>
  </ul>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">buildToolsVersion ’26.0.2’</span></li>
  </ul>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">minSdkVersion 21</span></li>
  </ul>
  <ul class="ul2">
    <li class="li6"><span class="s3"></span><span class="s4">targetSdkVersion 26</span></li>
  </ul>
  <li class="li9"></li>
  <li class="li6"><span class="s3"></span><span class="s4">Proguard rules of AppInfra: -keep public class com.philips.platform.appinfra.languagepack.model.** { *; }</span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Code Example - Quick integration</b></span></h2>
<p class="p8"><span class="s4">Refer integration document. Integration document is part of appinfra repo (Documents/External/Integration Document_Appinfra)</span></p>
<p class="p8"><span class="s4">[How to articles](https://confluence.atlas.philips.com/display/MAIL/How-to+articles)</span></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Documentation - How to configure AppConfig keys</b></span></h2>
<p class="p2"><span class="s2">Refer <a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/appconfig.html"><span class="s7">AppConfig keys</span></a></span></p>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>Team Members</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Deepthi Shivakumar -<a href="mailto:deepthi.shivakumar@philips.com"><span class="s8">deepthi.shivakumar@philips.com</span></a> - Architecture(Mob 9538534742)</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Yogesh HS - <a href="mailto:yogesh.hs@philips.com"><span class="s8">yogesh.hs@philips.com</span></a> - Developer(Mob 9742181076)</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Abhishek Gadewar - <a href="mailto:abhishek.gadewar@philips.com"><span class="s8">abhishek.gadewar@philips.com</span></a> - Developer</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Vrushabh Maitri - <a href="mailto:vrushabh.maitri@philips.com"><span class="s8">vrushabh.maitri@philips.com </span></a>- Developer</span></li>
  <li class="li6"><span class="s3"></span><span class="s4">Sumanth Bhargav-<a href="mailto:sumant.bhargav@philips.com"><span class="s8">sumant.bhargav@philips.com</span></a> - Product Owner(Mob 9620996153)<span class="Apple-converted-space"> </span></span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>API References</b></span></h2>
<ul class="ul1">
  <li class="li3"><span class="s3"><a href="file:///Users/test/Documents/workspace/Azure/mobile-plf-android/Source/ail/Documents/overview-summary.html"><span class="s1">API Overview</span></a></span></li>
</ul>
<h2 style="margin: 0.0px 0.0px 14.9px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s4"><b>License</b></span></h2>
<ul class="ul1">
  <li class="li6"><span class="s3"></span><span class="s4">Copyright © Koninklijke Philips N.V., 2017 All rights are reserved. Reproduction or dissemination in whole or in part is prohibited without the prior written consent of the copyright holder.*</span></li>
</ul>
</body>
</html>
