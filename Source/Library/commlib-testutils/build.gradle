/*
 * Copyright (c) 2015-2017 Koninklijke Philips N.V.
 * All rights reserved.
 */
apply plugin: 'com.android.library'

buildscript { bs ->
    project.ext.common = projectDir.absolutePath + '/../../common/gradle'

    apply from: "$project.common/project-build.gradle", to: bs
    apply from: "$project.common/module.gradle"
    
    repositories {
        maven {
            url repos.jcenter
            credentials {
                username = "readonly"
                password = "123qweasdzxc"
            }
        }
    }
}

repositories {
    maven {
        url repos.jcenter
        credentials {
            username = "readonly"
            password = "123qweasdzxc"
        }
    }
    maven {
        url repos.release
        credentials {
            username = "readonly"
            password = "123qweasdzxc"
        }
    }
    maven {
        url repos.snapshot
        credentials {
            username = "readonly"
            password = "123qweasdzxc"
        }
    }
}

android {
    compileSdkVersion versions.sdk
    buildToolsVersion versions.buildtools

    defaultConfig {
        minSdkVersion versions.minsdk
        targetSdkVersion versions.target
        versionCode 1
        versionName "0.0.1"

        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        all {
            buildConfigField "int", "minsdk", Integer.toString(versions.minsdk)
            buildConfigField "int", "maxsdk", Integer.toString(versions.target)
        }
    }
}

dependencies {
    compile deps.junit
    compile deps.mockito

    compile(deps.robolectric) {
        exclude group: 'commons-logging', module: 'commons-logging'
        exclude group: 'org.apache.httpcomponents', module: 'httpclient'
        exclude group: 'com.thoughtworks.xstream', module: 'xstream' // version 1.4.8 (Java 8)
    }
    compile(deps.robolectric_shadows) {
        exclude group: 'commons-logging', module: 'commons-logging'
        exclude group: 'org.apache.httpcomponents', module: 'httpclient'
        exclude group: 'com.thoughtworks.xstream', module: 'xstream' // version 1.4.8 (Java 8)
    }
    compile('com.thoughtworks.xstream:xstream:1.4.7') // version 1.4.7 (Java 7)
}
